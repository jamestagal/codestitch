(function(){"use strict";var e,t,n,s,a,r,l,i=document.body,m=i.querySelectorAll("[data-lightbox]"),o={fadeIn:"fadeIn .3s",fadeOut:"fadeOut .3s",scaleIn:"createBox .3s",scaleOut:"deleteBox .3s"};function d(){i.classList.toggle("remove-scroll")}function u(e){var t,s,n=e.getAttribute("href");return n.match(/\.(jpeg|jpg|gif|png)/)?(t=document.createElement("img"),t.className="lightbox-image",t.src=n,t.alt=e.getAttribute("data-image-alt"),t):i.querySelector(n).children[0].cloneNode(!0)}function c(e){var n,t={next:e.parentElement.nextElementSibling,previous:e.parentElement.previousElementSibling};for(n in t)t[n]!==null&&(t[n]=t[n].querySelector("[data-lightbox]"));return t}function f(l){if(l.blur(),r=l,l.classList.add("current-lightbox-item"),a=document.createElement("button"),a.className="lightbox-btn lightbox-btn-close",n=document.createElement("div"),n.className="lightbox-content",n.appendChild(u(l)),s=n.cloneNode(!1),s.className="lightbox-wrapper",s.style.animation=[o.scaleIn,o.fadeIn],s.appendChild(n),s.appendChild(a),e=n.cloneNode(!1),e.className="lightbox-container",e.style.animation=o.fadeIn,e.onclick=function(){},e.appendChild(s),l.getAttribute("data-lightbox")==="gallery"){e.classList.add("lightbox-gallery");var h;t={next:"",previous:""};for(h in t)t.hasOwnProperty(h)&&(t[h]=a.cloneNode(!1),t[h].className="lightbox-btn lightbox-btn-"+h,t[h].disabled=c(l)[h]===null,s.appendChild(t[h]))}i.appendChild(e),d()}function h(e){s.removeAttribute("style");var a,i=c(r)[e];if(i!==null){n.style.animation=o.fadeOut,setTimeout(function(){n.replaceChild(u(i),n.children[0]),n.style.animation=o.fadeIn},200),r.classList.remove("current-lightbox-item"),i.classList.add("current-lightbox-item"),r=i;for(a in t)t.hasOwnProperty(a)&&(t[a].disabled=c(i)[a]===null)}}function p(){e.style.animation=o.fadeOut,s.style.animation=[o.scaleOut,o.fadeOut],setTimeout(function(){i.contains(e)&&(i.removeChild(e),l.focus(),r.classList.remove("current-lightbox-item"),d())},200)}Array.prototype.forEach.call(m,function(e){e.addEventListener("click",function(t){t.preventDefault(),f(e),l=e})}),["click","keyup"].forEach(function(n){i.addEventListener(n,function(n){if(i.contains(e)){var s=n.target,o=n.keyCode,r=n.type;([e,a].indexOf(s)!==-1||o===27)&&p(),e.classList.contains("lightbox-gallery")&&((s===t.next&&r==="click"||o===39)&&h("next"),(s===t.previous&&r==="click"||o===37)&&h("previous"))}})})})()