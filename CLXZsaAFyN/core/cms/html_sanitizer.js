import{SvelteComponent,init,safe_not_equal}from"../../web_modules/svelte/internal/index.mjs";const plaintextPaste=e=>{e.preventDefault();const t=(e.clipboardData||window.clipboardData).getData("text");if(t==="")return;const n=HtmlSanitizer.SanitizeHtml(t);document.execCommand("insertHTML",!1,n)},HtmlSanitizer=typeof window=="undefined"?null:new function(){const e={A:!0,ABBR:!0,B:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CENTER:!0,CODE:!0,DD:!0,DIV:!0,DL:!0,DT:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IMG:!0,LABEL:!0,LI:!0,OL:!0,P:!0,PRE:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRONG:!0,SUB:!0,SUP:!0,TABLE:!0,TBODY:!0,TR:!0,TD:!0,TH:!0,THEAD:!0,UL:!0,U:!0,VIDEO:!0},t={FORM:!0,"GOOGLE-SHEETS-HTML-ORIGIN":!0},n={align:!0,color:!0,controls:!0,height:!0,href:!0,id:!0,src:!0,style:!1,target:!0,title:!0,type:!0,width:!0},s={"background-color":!1,color:!1,"font-size":!1,"font-weight":!1,"text-align":!1,"text-decoration":!1,width:!1},o=["http:","https:","data:","m-files:","file:","ftp:","mailto:","pw:"],i={href:!0,action:!0},a=new DOMParser;this.SanitizeHtml=function(c,l){if(c=c.trim(),c=="")return"";if(c=="<br>")return"";c.indexOf("<body")==-1&&(c="<body>"+c+"</body>");let d=a.parseFromString(c,"text/html");d.body.tagName!=="BODY"&&d.body.remove(),typeof d.createElement!="function"&&d.createElement.remove();function u(a){let c;if(a.nodeType==Node.TEXT_NODE)c=a.cloneNode(!0);else if(a.nodeType==Node.ELEMENT_NODE&&(e[a.tagName]||t[a.tagName]||l&&a.matches(l))){{t[a.tagName]?c=d.createElement("DIV"):c=d.createElement(a.tagName);for(let t=0;t<a.attributes.length;t++){let e=a.attributes[t];if(n[e.name])if(e.name=="style")for(let e=0;e<a.style.length;e++){let t=a.style[e];s[t]&&c.style.setProperty(t,a.style.getPropertyValue(t))}else{if(i[e.name]&&e.value.indexOf(":")>-1&&!r(e.value,o))continue;c.setAttribute(e.name,e.value)}}for(let e=0;e<a.childNodes.length;e++){let t=u(a.childNodes[e]);c.appendChild(t,!1)}if((c.tagName=="SPAN"||c.tagName=="B"||c.tagName=="I"||c.tagName=="U")&&c.innerHTML.trim()=="")return d.createDocumentFragment()}}else c=d.createDocumentFragment();return c}let h=u(d.body);return h.innerHTML.replace(/<br[^>]*>(\S)/g,"<br>\n$1").replace(/div><div/g,`div>
<div`)};function r(e,t){for(let n=0;n<t.length;n++)if(e.indexOf(t[n])==0)return!0;return!1}this.AllowedTags=e,this.AllowedAttributes=n,this.AllowedCssStyles=s,this.AllowedSchemas=o};class Component extends SvelteComponent{constructor(e){super(),init(this,e,null,null,safe_not_equal,{})}}export default Component;export{plaintextPaste}